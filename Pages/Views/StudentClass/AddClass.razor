@inherits OwningComponentBase<StudentsService>
@inject IToastService toastService
@inject NavigationManager NVM

            <EditForm OnSubmit="@HandleValidSubmit" Model="@Model" Id="ClassForm" class="col-md-7 m-auto">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="ClassName" class="control-label">Class Name</label>
                        <InputText for="ClassName" class="form-control" @bind-Value="@Model.ClassName" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <input type="submit" class="btn btn-primary" value="Save " data-dismiss="modal" @onclick="@HandleValidSubmit" />
                        @* @onclick="@(() => toastService.ShowSuccess("Class added Successfuly!"))" *@
                    </div>
                </div>
            </EditForm>
 

@code {
    private StudentClass Model = new StudentClass();


    public async Task HandleValidSubmit()
    {

        StudentClass StudentClass = new StudentClass();
        try
        {
            StudentClass = Model;
            try
            {
                var result = await Service.CreateStudentClass(StudentClass);
                // Clear the form.
                Model = new StudentClass();

                NVM.NavigateTo($"/StudentClass/Create/{result.Id}", true);
            }
            catch (Exception ex)
            { 
            
            }
            // Show the Toast.


            toastService.ShowInfo("StudentClass Added");
        }
        catch (Exception)
        {
            //ToastContent = ex.GetBaseException().Message;

            //await this.ToastObj.Show();
        }
    }
}
